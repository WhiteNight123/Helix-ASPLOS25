# Simulator cluster file for heterogeneous GPUs: 2x RTX2080Ti + 2x RTX4090
# Pipeline topology for Qwen3-14B (40 layers total)

[Coordinator]
inbound_nic_speed=10000.0 * mbps
outbound_nic_speed=10000.0 * mbps

[MachineTypes]
types=['RTX2080Ti', 'RTX4090']

[ComputeNodes]
names=['compute_node_2', 'compute_node_3', 'compute_node_4', 'compute_node_5']

# First RTX2080Ti - layers 0-9
[compute_node_2]
vram_size=11000.0 * MB
inbound_nic_speed=10000.0 * mbps
outbound_nic_speed=10000.0 * mbps
disk_speed=1000.0 * mbps
machine_type="RTX2080Ti"
kv_cache_capacity=5000000
activation_backup_capacity=0

# Second RTX2080Ti - layers 10-19
[compute_node_3]
vram_size=11000.0 * MB
inbound_nic_speed=10000.0 * mbps
outbound_nic_speed=10000.0 * mbps
disk_speed=1000.0 * mbps
machine_type="RTX2080Ti"
kv_cache_capacity=5000000
activation_backup_capacity=0

# First RTX4090 - layers 20-29
[compute_node_4]
vram_size=24000.0 * MB
inbound_nic_speed=10000.0 * mbps
outbound_nic_speed=10000.0 * mbps
disk_speed=1000.0 * mbps
machine_type="RTX4090"
kv_cache_capacity=10000000
activation_backup_capacity=0

# Second RTX4090 - layers 30-39
[compute_node_5]
vram_size=24000.0 * MB
inbound_nic_speed=10000.0 * mbps
outbound_nic_speed=10000.0 * mbps
disk_speed=1000.0 * mbps
machine_type="RTX4090"
kv_cache_capacity=10000000
activation_backup_capacity=0

[Links]
names=['link_source_compute_node_2', 'link_compute_node_2_compute_node_3', 'link_compute_node_3_compute_node_4', 'link_compute_node_4_compute_node_5', 'link_compute_node_5_sink']

[link_source_compute_node_2]
in=source
out=compute_node_2
latency=1.0 * MilliSec
bandwidth=10000.0 * mbps

[link_compute_node_2_compute_node_3]
in=compute_node_2
out=compute_node_3
latency=2.0 * MilliSec
bandwidth=10000.0 * mbps

[link_compute_node_3_compute_node_4]
in=compute_node_3
out=compute_node_4
latency=10.0 * MilliSec
bandwidth=10000.0 * mbps

[link_compute_node_4_compute_node_5]
in=compute_node_4
out=compute_node_5
latency=2.0 * MilliSec
bandwidth=10000.0 * mbps

[link_compute_node_5_sink]
in=compute_node_5
out=sink
latency=1.0 * MilliSec
bandwidth=10000.0 * mbps
